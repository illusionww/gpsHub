function signInInit(){$("#signin-password").on("keyup",function(a){if(a.which==13){a.preventDefault();signIn()}});$("#signin-form").submit(function(a){a.preventDefault();signIn();return false})}function signIn(){var c=$("#signin-btn");var b=$("#signin-email").val();var a=$("#signin-password").val();$("#signin-error").hide();if(b==""){signInMessage("email")}else{if(a==""){signInMessage("password")}else{c.prop("disabled",true);signInMessage("pleasewait");$.ajax({url:"actions/signin.php",type:"GET",data:{email:b,password:a},success:function(d){if(d==="yes"){signInMessage("pleasewait");window.location.href="index.php"}else{if(d==="no"){signInMessage("badpass");c.prop("disabled",false)}else{signInMessage("connectionerror");c.prop("disabled",false)}}},error:function(){signInMessage("connectionerror");c.prop("disabled",false)}})}}}function signInMessage(a){var b=$("#signin-error");b.hide();b.removeClass("bs-callout-warning");b.removeClass("bs-callout-danger");b.removeClass("bs-callout-info");switch(a){case"email":b.addClass("bs-callout-warning");b.find("p").text("Введите email.");break;case"password":b.addClass("bs-callout-warning");b.find("p").text("Введите пароль.");break;case"badpass":b.addClass("bs-callout-danger");b.find("p").text("Неверное имя пользователя или пароль.");break;case"pleasewait":b.addClass("bs-callout-info");b.find("p").text("Пожалуйста, подождите...");break;case"connectionerror":b.addClass("bs-callout-danger");b.find("p").text("Произошла ошибка во время связи с сервером. Попробуйте обновить страницу");break}b.show()}function signOut(){$.ajax({url:"actions/signout.php",type:"GET",success:function(){window.location.replace("signin.php")}})};